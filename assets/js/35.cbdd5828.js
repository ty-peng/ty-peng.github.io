(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{574:function(t,a,r){"use strict";r.r(a);var s=r(4),_=Object(s.a)({},(function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("p",[t._v("RabbitMQ、RocketMQ、Kafka 等消息中间件分析。")]),t._v(" "),r("h2",{attrs:{id:"一、rabbitmq-集群架构模型与原理解析"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#一、rabbitmq-集群架构模型与原理解析"}},[t._v("#")]),t._v(" 一、RabbitMQ 集群架构模型与原理解析")]),t._v(" "),r("h3",{attrs:{id:"rabbitmq-四种集群架构"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#rabbitmq-四种集群架构"}},[t._v("#")]),t._v(" RabbitMQ 四种集群架构")]),t._v(" "),r("h4",{attrs:{id:"_1-主备模式"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-主备模式"}},[t._v("#")]),t._v(" "),r("strong",[t._v("1. 主备模式")])]),t._v(" "),r("ul",[r("li",[t._v("也叫 warren（兔子窝），主节点如果挂了，从节点提供服务，和 ActiveMQ 利用 Zookeeper 做主、备一样。")])]),t._v(" "),r("p",[r("img",{attrs:{src:"/img/note/20200325162737-mq-rabbitmq.jpg",alt:""}})]),t._v(" "),r("h4",{attrs:{id:"_2-远程模式"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-远程模式"}},[t._v("#")]),t._v(" "),r("strong",[t._v("2. 远程模式")])]),t._v(" "),r("ul",[r("li",[t._v("远距离通信和复制，可以实现双活的一种模式，简称 Shovel 模式，当前使用不多；")]),t._v(" "),r("li",[t._v("Shovel 就是把消息进行不同数据中心的复制工作，可以跨地域的让两个 MQ 集群互联。")])]),t._v(" "),r("h4",{attrs:{id:"_3-镜像模式-最广泛"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-镜像模式-最广泛"}},[t._v("#")]),t._v(" "),r("strong",[t._v("3. 镜像模式（最广泛）")])]),t._v(" "),r("ul",[r("li",[t._v("Mirror 镜像模式（复制），保证 100%数据不丢失；")]),t._v(" "),r("li",[t._v("在实际工作中使用的最多，并且实现集群非常简单，一般互联网大厂都会构建这种镜像集群模式。")])]),t._v(" "),r("blockquote",[r("p",[t._v("镜像队列：\n高可靠、数据同步、3 个节点")])]),t._v(" "),r("p",[r("img",{attrs:{src:"/img/note/20200325164844-mq-rabbitmq.jpg",alt:""}})]),t._v(" "),r("ul",[r("li",[t._v("缺点：不支持横向扩展，节点越多，越增加数据同步负担（官方建议三个节点）")])]),t._v(" "),r("h4",{attrs:{id:"_4-多活模式"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_4-多活模式"}},[t._v("#")]),t._v(" "),r("strong",[t._v("4. 多活模式")])]),t._v(" "),r("ul",[r("li",[t._v("也是实现异地数据复制的主流模式，因为 Shovel 模式配置比较复杂，\n所以一般来说实现异地集群都是使用这种双活或者多活模型来实现；")]),t._v(" "),r("li",[t._v("这种模型需要依赖 RabbitMQ 的 federation 插件，可以实现持续的可靠的 AMQP 数据通信，多活模式实际配置与应用非常简单。")]),t._v(" "),r("li",[t._v("多活模式采用双中心模式（多中心），在两套（或多套）数据中心各部署一套 RabbitMQ 集群，\n各中心的 RabbitMQ 服务除了需要提供正常的消息服务外，中心之间还需要实现部分队列消息共享。")])]),t._v(" "),r("p",[r("img",{attrs:{src:"/img/note/20200325170202-mq-rabbitmq.jpg",alt:""}})]),t._v(" "),r("p",[r("img",{attrs:{src:"/img/note/20200325170650-mq-rabbitmq.jpg",alt:""}}),t._v(" "),r("img",{attrs:{src:"/img/note/20200325170750-mq-rabbitmq.jpg",alt:""}}),t._v(" "),r("img",{attrs:{src:"/img/note/20200325170846-mq-rabbitmq.jpg",alt:""}})]),t._v(" "),r("h2",{attrs:{id:"二、rocketmq-集群架构模型与原理解析"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#二、rocketmq-集群架构模型与原理解析"}},[t._v("#")]),t._v(" 二、RocketMQ 集群架构模型与原理解析")]),t._v(" "),r("h2",{attrs:{id:"三、kafka-消息中间件"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#三、kafka-消息中间件"}},[t._v("#")]),t._v(" 三、Kafka 消息中间件")])])}),[],!1,null,null,null);a.default=_.exports}}]);