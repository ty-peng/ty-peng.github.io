(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{625:function(a,s,t){"use strict";t.r(s);var e=t(4),r=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("p",[t("a",{attrs:{href:"https://www.runoob.com/linux/linux-tutorial.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("Linux 教程 | 菜鸟教程"),t("OutboundLink")],1)]),a._v(" "),t("h2",{attrs:{id:"软件使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#软件使用"}},[a._v("#")]),a._v(" 软件使用")]),a._v(" "),t("h3",{attrs:{id:"vim"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vim"}},[a._v("#")]),a._v(" Vim")]),a._v(" "),t("ul",[t("li",[a._v("撤销更改："),t("code",[a._v("u")]),a._v(" "),t("code",[a._v("U")]),a._v(" 撤销一次/所有更改")]),a._v(" "),t("li",[a._v("取消撤销更改："),t("code",[a._v("ctrl + r")])]),a._v(" "),t("li",[a._v("删除："),t("code",[a._v(":1,2d")]),a._v(" "),t("code",[a._v("d + G")]),a._v(" 删除指定行/全部")]),a._v(" "),t("li",[a._v("选择："),t("code",[a._v("v")]),a._v(" "),t("code",[a._v("V")]),a._v(" "),t("code",[a._v("ctrl + v")]),a._v(" 按字符/行/块选择")])]),a._v(" "),t("h2",{attrs:{id:"服务器搭建"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#服务器搭建"}},[a._v("#")]),a._v(" 服务器搭建")]),a._v(" "),t("h3",{attrs:{id:"更换镜像源"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#更换镜像源"}},[a._v("#")]),a._v(" 更换镜像源")]),a._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://developer.aliyun.com/mirror/",target:"_blank",rel:"noopener noreferrer"}},[a._v("阿里巴巴开源镜像站"),t("OutboundLink")],1)]),a._v(" "),t("li",[t("a",{attrs:{href:"https://developer.aliyun.com/mirror/centos",target:"_blank",rel:"noopener noreferrer"}},[a._v("centos 镜像-阿里巴巴开源镜像站"),t("OutboundLink")],1)])]),a._v(" "),t("h3",{attrs:{id:"ssh-安全配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ssh-安全配置"}},[a._v("#")]),a._v(" SSH 安全配置")]),a._v(" "),t("h4",{attrs:{id:"修改端口"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改端口"}},[a._v("#")]),a._v(" 修改端口")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" /etc/nginx/nginx.conf\n")])])]),t("h4",{attrs:{id:"禁用-root-用户远程登录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#禁用-root-用户远程登录"}},[a._v("#")]),a._v(" 禁用 root 用户远程登录")]),a._v(" "),t("h4",{attrs:{id:"多次失败禁用-ip"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#多次失败禁用-ip"}},[a._v("#")]),a._v(" 多次失败禁用 IP")]),a._v(" "),t("p",[a._v("读取 "),t("code",[a._v("/var/log/secure")]),a._v("，查找关键字 Failed，达到指定次数后将相关 IP 加入 "),t("code",[a._v("/etc/hosts.deny")])]),a._v(" "),t("ol",[t("li",[t("p",[a._v("先添加允许的 IP 到 "),t("code",[a._v("/etc/hosts.allow")])]),a._v(" "),t("div",{staticClass:"language-text extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("sshd:xxx.xxx.xxx.xxx:allow\n")])])])]),a._v(" "),t("li",[t("p",[a._v("新建脚本 "),t("code",[a._v("secure_ssh.sh")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[a._v("#! /bin/bash")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("cat")]),a._v(" /var/log/secure"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("awk")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'/Failed/{print "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),a._v("NF-3"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v("}'")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sort")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("uniq")]),a._v(" -c"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("awk")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'{print "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$2")]),a._v('"="'),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$1")]),a._v(";}'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" /usr/local/bin/black.list\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[a._v("i")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("in")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("cat")]),a._v("  /usr/local/bin/black.list"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("do")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("IP")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" $i "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("awk")]),a._v(" -F"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'{print "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$1")]),a._v("}'")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("NUM")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" $i"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("awk")]),a._v(" -F"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'{print "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$2")]),a._v("}'")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("if")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${NUM}")]),a._v(" -gt "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("5")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("then")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$IP")]),a._v(" /etc/hosts.deny "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" /dev/null\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("if")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$?")]),a._v(" -gt "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("then")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"sshd:'),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$IP")]),a._v(':deny"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">>")]),a._v(" /etc/hosts.deny\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("fi")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("fi")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("done")]),a._v("\n")])])])]),a._v(" "),t("li",[t("p",[a._v("加入 cron 定时任务")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("crontab")]),a._v(" -e\n")])])]),t("div",{staticClass:"language-text extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("*/1 * * * *  sh /{脚本路径}/secure_ssh.sh\n")])])])])]),a._v(" "),t("h3",{attrs:{id:"https"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#https"}},[a._v("#")]),a._v(" https")]),a._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://github.com/acmesh-official/acme.sh",target:"_blank",rel:"noopener noreferrer"}},[a._v("acmesh-official/acme.sh"),t("OutboundLink")],1),a._v(" "),t("ul",[t("li",[a._v("acme.sh 实现了 acme 协议, 可以从 letsencrypt 生成免费的证书.")])])]),a._v(" "),t("li",[t("a",{attrs:{href:"https://www.cnblogs.com/powertoolsteam/p/http2https.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("网站 HTTP 升级 HTTPS 完全配置手册"),t("OutboundLink")],1)])]),a._v(" "),t("h3",{attrs:{id:"nginx"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nginx"}},[a._v("#")]),a._v(" nginx")]),a._v(" "),t("ul",[t("li",[a._v("安装")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("yum "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" nginx\n")])])]),t("ul",[t("li",[a._v("修改配置文件")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" /etc/nginx/nginx.conf\n")])])]),t("h3",{attrs:{id:"mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql"}},[a._v("#")]),a._v(" MySQL")]),a._v(" "),t("ul",[t("li",[a._v("安装")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" http://dev.mysql.com/get/mysql57-community-release-el7-10.noarch.rpm\nyum -y "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" mysql57-community-release-el7-10.noarch.rpm\nyum -y "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" mysql-community-server\n")])])]),t("ul",[t("li",[a._v("默认密码")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"temporary password"')]),a._v(" /var/log/mysqld.log\n")])])]),t("ul",[t("li",[a._v("修改配置")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" /etc/my.cnf\n")])])]),t("div",{staticClass:"language-properties extra-class"},[t("pre",{pre:!0,attrs:{class:"language-properties"}},[t("code",[a._v("[mysql]\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 默认字符集（不要放在 [mysqld] 下，否则启动会报错）")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("default-character-set")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("utf8")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# database 字符集")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("character-set-database")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("utf8")]),a._v("\n\n[mysqld]\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 日志文件位置（启动失败时可以看）")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("log-error")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("/var/log/mysqld.log")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 设置默认时区")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("default-time_zone")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("'+8:00'")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# server 字符集")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("character-set-server")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("utf8")]),a._v("\n")])])]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 重启")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("service")]),a._v(" mysqld restart\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 查看状态")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("service")]),a._v(" mysqld status\n")])])]),t("h3",{attrs:{id:"java"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#java"}},[a._v("#")]),a._v(" Java")]),a._v(" "),t("ul",[t("li",[a._v("安装（包含 jre）")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("yum "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" java-11-openjdk-devel\n")])])]),t("h3",{attrs:{id:"python"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#python"}},[a._v("#")]),a._v(" Python")]),a._v(" "),t("h3",{attrs:{id:"docker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker"}},[a._v("#")]),a._v(" docker")]),a._v(" "),t("br"),a._v(" "),t("hr"),a._v(" "),t("blockquote",[t("p",[t("strong",[a._v("参考链接：")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);