(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{573:function(t,a,s){"use strict";s.r(a);var v=s(4),e=Object(v.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("在工作中进行线上 BUG 的处理的时候，如果线上日志不能完全定位问题所在，而测试环境无法复现该问题，\n可能就需要对于线上服务进行远程调试，一般可以在预发布环境进行。")]),t._v(" "),s("h2",{attrs:{id:"开启-tomcat-的远程调试功能"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#开启-tomcat-的远程调试功能"}},[t._v("#")]),t._v(" 开启 Tomcat 的远程调试功能")]),t._v(" "),s("p",[t._v("现在 Tomcat 的"),s("code",[t._v("catalina.sh")]),t._v("文件里现在已经有了相应的开启远程调试命令直接调用，我们只需要修改端口即可。\n编辑"),s("code",[t._v("./bin/catalina.sh")]),t._v("，找到"),s("code",[t._v("JPDA_ADDRESS")]),t._v("，修改为未被占用你想要使用的端口即可，默认端口是 8000。")]),t._v(" "),s("p",[t._v("然后可以使用以下命令启动：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("catalina.sh jpda start\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"title"}),s("p",[t._v("远程调试功能最终都是通过 JVM 提供的，所以最终也是修改 Tomcat 使用的 JVM 的启动参数。")])]),s("h2",{attrs:{id:"idea-远程调试配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#idea-远程调试配置"}},[t._v("#")]),t._v(" IDEA 远程调试配置")]),t._v(" "),s("p",[t._v("点击 IDEA 工具栏的"),s("code",[t._v("Edit Configurations...")]),t._v("，进入配置页面，然后点击"),s("code",[t._v("+")]),t._v("，选择"),s("code",[t._v("Remote")]),t._v("，如下图：")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/other/20200325125911.png",alt:"图一"}})]),t._v(" "),s("p",[t._v("按下图配置即可，具体参数是否更改视具体情况而定，一般默认即可")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/other/20200325130218.png",alt:"图二"}})]),t._v(" "),s("p",[t._v("点击"),s("code",[t._v("OK")]),t._v("或者"),s("code",[t._v("APPLY")]),t._v("保存，然后点击 IDEA 工具栏的"),s("code",[t._v("Debug")]),t._v("按钮即可")]),t._v(" "),s("h2",{attrs:{id:"开始调试"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#开始调试"}},[t._v("#")]),t._v(" 开始调试")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"title"}),s("p",[t._v("注意本地代码要和远程服务端部署的代码一致。")])]),s("p",[t._v("启动后，正常打断点调试即可。")])])}),[],!1,null,null,null);a.default=e.exports}}]);