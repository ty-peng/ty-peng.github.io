(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{604:function(t,e,r){"use strict";r.r(e);var a=r(4),_=Object(a.a)({},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("p",[t._v("最近打算重拾有谱项目的开发，记录一下开发日志，本文以记录整理之前的开发日志为主。")]),t._v(" "),r("hr"),t._v(" "),r("h2",{attrs:{id:"接口设计"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#接口设计"}},[t._v("#")]),t._v(" 接口设计")]),t._v(" "),r("ul",[r("li",[t._v("登录（POST）：/login")]),t._v(" "),r("li",[t._v("注册（POST）：/register")]),t._v(" "),r("li",[t._v("用户名/邮箱/手机号检测（GET）：/user/accountCheck")]),t._v(" "),r("li",[t._v("用户详细信息（GET）：/user/{id}")]),t._v(" "),r("li",[t._v("修改用户信息 (PUT)：/user/{id}")]),t._v(" "),r("li",[t._v("删除用户（DELETE）：/user/{id}")]),t._v(" "),r("li",[t._v("曲谱列表加载（POST）：/scores/{cate}")]),t._v(" "),r("li",[t._v("曲谱详情（GET）：/score/{id} 记得返回当前用户收藏状态（收藏返回收藏 id，未收藏 null）")]),t._v(" "),r("li",[t._v("上传添加曲谱（POST）：/score")]),t._v(" "),r("li",[t._v("修改曲谱信息（PUT）：/score/{id}")]),t._v(" "),r("li",[t._v("删除曲谱记录（DELETE）：/score/{id}\n"),r("ul",[r("li",[t._v("只有管理员和上传者可以删")]),t._v(" "),r("li",[t._v("参数： token（双向绑定了用户，后台验证用户类型，管理员 or 上传者）")]),t._v(" "),r("li",[t._v("或者 [用户类型，id， 密码（校验是账号拥有者）]")])])])]),t._v(" "),r("h2",{attrs:{id:"备注"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#备注"}},[t._v("#")]),t._v(" 备注")]),t._v(" "),r("p",[t._v("/userId 路径参数的用户 id 和 token 对应的 id 做校验！！！")]),t._v(" "),r("p",[t._v("未完成或粗略完成：")]),t._v(" "),r("ul",[r("li",[t._v("获取当前 token 对应用户")]),t._v(" "),r("li",[t._v("收藏")]),t._v(" "),r("li",[t._v("删除曲谱记录（DELETE）：/score/{id}")]),t._v(" "),r("li",[t._v("上传者 id")]),t._v(" "),r("li",[t._v("修改手机号，修改邮箱的密码验证")])]),t._v(" "),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[r("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -g serve "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 全局安装")]),t._v("\nserve -s dist "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 运行打包后的文件")]),t._v("\n")])])]),r("p",[t._v("Vue-cli 提供的代理功能，只是让你在开发环境下使用的，它 (http-server-middleware) 依赖于 node 环境，生产代码应该使用 npm run build 然后把 dist 放到 nginx 服务器上，在 nginx 上配置代理地址")]),t._v(" "),r("h2",{attrs:{id:"爬虫"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#爬虫"}},[t._v("#")]),t._v(" 爬虫")]),t._v(" "),r("h3",{attrs:{id:"链接分析"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#链接分析"}},[t._v("#")]),t._v(" 链接分析")]),t._v(" "),r("p",[t._v("一页 20 条 per_page 表示该页第一条曲谱对应索引")]),t._v(" "),r("ol",[r("li",[r("p",[t._v("钢琴曲谱列表")]),t._v(" "),r("p",[t._v("1 ~ 1961 页")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"http://www.tan8.com/piano-119-0-collects-1-0.html&per_page=0",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://www.tan8.com/piano-119-0-collects-1-0.html&per_page=0"),r("OutboundLink")],1),t._v(" 第一页")]),t._v(" "),r("li",[r("a",{attrs:{href:"http://www.tan8.com/piano-119-0-collects-1-0.html&per_page=39200",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://www.tan8.com/piano-119-0-collects-1-0.html&per_page=39200"),r("OutboundLink")],1),t._v(" 第 1961 页")])]),t._v(" "),r("p",[t._v("在线播放链接")]),t._v(" "),r("p",[r("a",{attrs:{href:"http://www.77music.com/flash/ypid.swf",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://www.77music.com/flash/ypid.swf"),r("OutboundLink")],1)]),t._v(" "),r("p",[t._v("/"),r("strong",[r("strong",[r("strong",[r("strong",[r("strong",[t._v("****")])])])])]),t._v(" 参数暂时无法解析")]),t._v(" "),r("p",[r("a",{attrs:{href:"http://www.77music.com/flash_get_yp_info.php?ypid=64732&sccode=b903bac4bd887d11849da7dbd285d9ab&r1=6882&r2=4006&input=123",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://www.77music.com/flash_get_yp_info.php?ypid=64732&sccode=b903bac4bd887d11849da7dbd285d9ab&r1=6882&r2=4006&input=123"),r("OutboundLink")],1)]),t._v(" "),r("p",[t._v("*************************************************************/")])]),t._v(" "),r("li",[r("p",[t._v("吉他曲谱列表")]),t._v(" "),r("p",[t._v("1 ~ 2221 页")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"http://www.tan8.com/guitar-133-0-collects-1-0.html&per_page=0",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://www.tan8.com/guitar-133-0-collects-1-0.html&per_page=0"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"http://www.tan8.com/guitar-133-0-collects-1-0.html&per_page=44400",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://www.tan8.com/guitar-133-0-collects-1-0.html&per_page=44400"),r("OutboundLink")],1)])])]),t._v(" "),r("li",[r("p",[t._v("尤克里里列表")]),t._v(" "),r("p",[t._v("1 ~ 17 页")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"http://www.tan8.com/ukulele-229-0-collects-1-0.html&per_page=0",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://www.tan8.com/ukulele-229-0-collects-1-0.html&per_page=0"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"http://www.tan8.com/ukulele-229-0-collects-1-0.html&per_page=320",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://www.tan8.com/ukulele-229-0-collects-1-0.html&per_page=320"),r("OutboundLink")],1)])])])])])}),[],!1,null,null,null);e.default=_.exports}}]);